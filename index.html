<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="Street View Generation with Diverse 3D Geometry Control">
  <meta name="keywords" content="MagicDrive, street view, diffusion">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MagicDrive: Street View Generation with Diverse 3D Geometry Control</title>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>

  <!-- Vendor Stylesheets -->
  <!--=================js==========================-->
  <link rel="stylesheet" href="./static/css/tab_gallery.css">
  <link rel="stylesheet" href="./static/css/juxtapose.css">
  <link rel="stylesheet" href="./static/css/image_card_fader.css">
  <link rel="stylesheet" href="./static/css/image_card_slider.css">
</head>

<body>

  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  </nav>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">MagicDrive: Street View Generation with Diverse 3D Geometry Control
            </h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <!-- <a href="https://magic-drive.github.io">Anonymous</a></span> -->
                Anonymous</span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block">Anonymous Institution</span>
            </div>

            <!-- <div class="is-size-5 publication-authors">
          </div> -->

            <div class="column has-text-centered">
              <div class="publication-links">
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
          <video id="teaser" muted preload playsinline autoplay loop height="100%">
            <source src="./static/videos/teaser.mp4" type="video/mp4">
            <p>Method Overview</p>
          </video>
        <h2 class="subtitle has-text-centered">
          <span class="dnerf">MagicDrive</span> generates highly realistic
          street-view images with diverse contorls.
        </h2>
      </div>
    </div>
  </section>


  <section class="hero is-light is-small">
    <div class="hero-body">
      <div class="container">
        <div id="results-carousel" class="carousel results-carousel">
          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene1_sun.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene1_rain.png" height="100%">
            </div>
          </div>

          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene3_day.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene3_night.png" height="100%">
            </div>
          </div>

          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene2_sun.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene2_rain.png" height="100%">
            </div>
          </div>

          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene5_day.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene5_night.png" height="100%">
            </div>
          </div>

          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene4_sun.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene4_rain.png" height="100%">
            </div>
          </div>

          <div class="item item-examples">
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene6_day.png" height="100%">
            </div>
            <div class="item item-expcol">
              <img class="image" id="0_gen0" src="./static/images/scene6_night.png" height="100%">
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>


  <section class="section">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              Recent advancements in diffusion models have shown remarkable
              promise in data synthesis, enhancing a wide range of 2D perception
              tasks. However, achieving precise control in street view
              generation for 3D perception tasks still remains a formidable
              challenge. Specifically, when adopting Bird's-Eye View (BEV) as
              the sole condition for street view generation, height control
              becomes the major hurdle, which is indispensable for accurately
              representing object dimensions, occlusion patterns, and road
              surface elevations, particularly for 3D object detection. In this
              paper, we introduce <span class="dnerf">MagicDrive</span>, a novel
              street view generation framework that incorporates diverse 3D
              geometry control, including the camera poses, road maps, 3D
              bounding boxes, and textual descriptions, by employing customized
              encoding strategies. A cross-view attention module is further
              introduced to ensure the multi-camera view consistency. The
              versatility of <span class="dnerf">MagicDrive</span> empowers
              high-quality street-view data synthesis that accurately reflects
              diverse 3D geometry control, benefiting 3D perception tasks such
              as BEV segmentation and 3D object detection.
            </p>
          </div>
        </div>
      </div>
      <!--/ Abstract. -->

      <!-- Paper video. -->
      <!-- <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Video</h2>
        <div class="publication-video">
          <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0"
                  frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div> -->
      <!--/ Paper video. -->
    </div>
  </section>


  <section class="section" style="background-color: #f1f1f1;">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column is-full-width">

          <h2 class="title is-3">Diverse Generation</h2>
          <!-- Video sequence. -->
          <h3 class="title is-4">Image sequences for continuous scenes</h3>
          <div class="content has-text-justified">
            <p>
              Using <span class="dnerf">MagicDrive</span>, one can generate
              diverse street-view images even to similar scene annotations.
              We show generation according to continuous annotation sequences.
            </p>
          </div>
          <div class="content has-text-centered">
            <video id="replay-video" controls muted preload playsinline width="75%">
              <source src="./static/videos/scene-0102_0.2.0x2run10e450_with_map_AVS_v2.mp4" type="video/mp4">
            </video>
            <p>scene-0012: see road changes with the ego car's direction</p>
            <video id="replay-video" controls muted preload playsinline width="75%">
              <source src="./static/videos/scene-0015_0.2.0x2run10e450_with_map_AVS_v2.mp4" type="video/mp4">
            </video>
            <p>scene-0105: see object distance change</p>
            <video id="replay-video" controls muted preload playsinline width="75%">
              <source src="./static/videos/scene-0103_0.2.0x2run10e450_with_map_AVS.mp4" type="video/mp4">
            </video>
            <p>scene-0103: see various semantics</p>
          </div>
          <!--/ Video sequence. -->


        </div>
      </div>

    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">

      <!-- Animation. -->
      <div class="columns is-centered">
        <div class="column is-full-width">

          <h2 class="title is-3">Diverse 3D Geometry Control</h2>
          <!-- Interpolating. -->
          <h3 class="title is-4">Object fine-grained control</h3>
          <div class="content has-text-justified">
            <p>
              <span class="dnerf">MagicDrive</span> controls the position of objects precisely, while
              keeping other objects unchanged. Drag the slider to see how the
              vehicle (in the bounding box) moves from left to right.
            </p>
          </div>
          <div class="columns is-vcentered interpolation-panel">
            <div class="column interpolation-video-column">
              <div id="interpolation-image-wrapper">
                Loading...
              </div>
              <input class="slider is-fullwidth is-large is-info" id="interpolation-slider" step="1" min="0" max="10"
                value="0" type="range">
            </div>
          </div>
          <br />
          <!--/ Interpolating. -->

          <!-- main results. -->
          <h3 class="title is-4">Multi-level controls</h3>
          <div class="content has-text-justified">
            <p>
              <span class="dnerf">MagicDrive</span> considers controls from road BEV map,
              object bounding box, camera pose, and textual description.
            </p>
          </div>
          <div class="content has-text-centered">
            <img class="image" id="0_gen0" src="./static/images/main_results.png" height="100%">
          </div>
          <br />
          <!--/ main results. -->

        </div>
      </div>
    </div>
  </section>

  <section class="section" style="background-color: #f1f1f1;">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column is-full-width">
          <h2 class="title is-3">Downstream Support</h2>
          <div class="content has-text-justified">
            <p>
              Generation from <span class="dnerf">MagicDrive</span> can be used as
              data augmentation, supporting both BEV segmentation and 3D object
              detection tasks.
            </p>
          </div>
          <div class="content has-text-centered">
            <img class="center" id="downstream" src="./static/images/downstream.png" width="75%">
          </div>
        </div>
      </div>
    </div>
  </section>



  <footer class="footer">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This website is licensed under a <a rel="license"
                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                Commons Attribution-ShareAlike 4.0 International License</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Image Slider Javascripts -->
  <!--=================Functions==========================-->
  <script src="./static/js/juxtapose.js"></script>

  <!-- <script>
    var slider;
    let origImages = [
      { "src": "https://chenyangsi.top/FreeU/freeu_img_vid/t2i/1_sd.png", "label": "SD", },
      { "src": "https://chenyangsi.top/FreeU/freeu_img_vid/t2i/1_freeu.png", "label": "SD+FreeU", }
    ];
    let origOptions = {
      "makeResponsive": true,
      "showLabels": true,
      "mode": "horizontal",
      "showCredits": true,
      "animate": true,
      "startingPosition": "50"
    };

    const juxtaposeSelector = "#juxtapose-embed";
    const transientSelector = "#juxtapose-hidden";


    function tab_gallery_click(name) {
      // Get the expanded image
      let inputImage = {
        label: "SD",
      };
      let outputImage = {
        label: "SD+FreeU",
      };

      inputImage.src = "freeu_img_vid/t2i/".concat(name, "_sd", ".png")
      outputImage.src = "freeu_img_vid/t2i/".concat(name, "_freeu", ".png")

      let images = [inputImage, outputImage];
      let options = slider.options;
      options.callback = function (obj) {
        var newNode = document.getElementById(obj.selector.substring(1));
        var oldNode = document.getElementById(juxtaposeSelector.substring(1));
        console.log(obj.selector.substring(1));
        console.log(newNode.children[0]);
        oldNode.replaceChild(newNode.children[0], oldNode.children[0]);
        //newNode.removeChild(newNode.children[0]);

      };

      slider = new juxtapose.JXSlider(transientSelector, images, options);
    };

    (function () {
      slider = new juxtapose.JXSlider(
        juxtaposeSelector, origImages, origOptions);
      //document.getElementById("left-button").onclick = replaceLeft;
      //document.getElementById("right-button").onclick = replaceRight;
    })();
    // Get the image text
    var imgText = document.getElementById("imgtext");
    // Use the same src in the expanded image as the image being clicked on from the grid
    // expandImg.src = imgs.src;
    // Use the value of the alt attribute of the clickable image as text inside the expanded image
    imgText.innerHTML = name;
    // Show the container element (hidden with CSS)
    // expandImg.parentElement.style.display = "block";

    $(".flip-card").click(function () {
      console.log("fading in")
      div_back = $(this).children().children()[1]
      div_front = $(this).children().children()[0]
      // console.log($(this).children("div.flip-card-back"))
      console.log(div_back)
      $(div_front).addClass("out");
      $(div_front).removeClass("in");

      $(div_back).addClass("in");
      $(div_back).removeClass("out");

    });

    $(".flip-card").mouseleave(function () {
      console.log("fading in")
      div_back = $(this).children().children()[1]
      div_front = $(this).children().children()[0]
      // console.log($(this).children("div.flip-card-back"))
      console.log(div_back)
      $(div_front).addClass("in");
      $(div_front).removeClass("out");

      $(div_back).addClass("out");
      $(div_back).removeClass("in");

    });
  </script> -->


</body>

</html>